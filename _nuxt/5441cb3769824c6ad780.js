(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{332:function(e,t,n){var content=n(362);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(12).default)("7ab2819f",content,!0,{sourceMap:!1})},333:function(e,t,n){var content=n(368);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(12).default)("bee85bf6",content,!0,{sourceMap:!1})},361:function(e,t,n){"use strict";var r=n(332);n.n(r).a},362:function(e,t,n){var r=n(11);(e.exports=r(!1)).push([e.i,".v-dialog{width:80vw}.v-text-field__slot{height:60px}@media screen and (min-width:768px){.v-dialog{width:50vw}}",""])},367:function(e,t,n){"use strict";var r=n(333);n.n(r).a},368:function(e,t,n){var r=n(11);(e.exports=r(!1)).push([e.i,".add-new-event p .v-icon:hover,.add-new-event p span:hover{cursor:pointer}",""])},385:function(e,t,n){"use strict";n.r(t);n(8),n(6),n(5),n(4),n(7);var r=n(1),c=n(52),o=n(38);n(27);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={data:function(){return{date:(new Date).toJSON(),startDateTime:(new Date).toJSON(),endDateTime:(new Date).toJSON(),end:null,focus:(new Date).toISOString().substr(0,10),start:null,today:(new Date).toISOString().substr(0,10),valid:!0,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=50||"Name must be less than 50 characters"}],descriptionRules:[function(e){return!!e||"Description is required"},function(e){return e&&e.length<=1e3||"Description must be less than 1000 characters"}],addressNameRules:[function(e){return!!e||"Address Name is required"},function(e){return e&&e.length<=1e3||"Address Name must be less than 1000 characters"}],fullAddressRules:[function(e){return!!e||"Full Address is required"},function(e){return e&&e.length<=1e3||"Full Address must be less than 1000 characters"}],imageSourceRules:[function(e){return!!e||"Image Source is required"},function(e){return e&&e.length<=1e3||"Image Source must be less than 1000 characters"}]}},computed:d({},Object(c.e)("spaceEvents",["newSpaceEventName","newSpaceEventDescription","newSpaceEventStart","newSpaceEventEnd","newSpaceEventAddressName","newSpaceEventFullAddress","newSpaceEventImageSource","spaceEvents"]),{},Object(c.e)(["isAuthenticated","loggedInUser"]),{title:function(){var e=this.start,t=this.end;if(!e||!t)return"";var n=this.monthFormatter(e),r=e.year;return"".concat(n," ").concat(r)},monthFormatter:function(){return this.$refs.calendar.getFormatter({timeZone:"UTC",month:"long"})}}),watch:{startDateTime:function(){var e=this.startDateTime.substr(0,19).replace("T"," ");this.setUpdatedSpaceEventStart({selectedEvent:this.selectedEvent,start:e})},endDateTime:function(){var e=this.endDateTime.substr(0,19).replace("T"," ");this.setUpdatedSpaceEventEnd({selectedEvent:this.selectedEvent,end:e})},selectedEvent:function(){this.startDateTime=this.toISOLocal(new Date(this.selectedEvent.start)),this.endDateTime=this.toISOLocal(new Date(this.selectedEvent.end))}},created:function(){this.fetchSpaceEvents()},mounted:function(){this.$refs.calendar.checkChange()},methods:d({},Object(c.b)("spaceEvents",["fetchSpaceEvents","updateSpaceEvent","updateSpaceEventAttendees","deleteSpaceEvent"]),{},Object(c.d)("spaceEvents",["setUpdatedSpaceEventName","setUpdatedSpaceEventDescription","setUpdatedSpaceEventStart","setUpdatedSpaceEventEnd","setUpdatedSpaceEventAddressName","setUpdatedSpaceEventFullAddress","setUpdatedSpaceEventImageSource","setSpaceEvent"]),{toISOLocal:function(e){var t=function(e){return("0"+e).slice(-2)};return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+("00"+e.getMilliseconds()).slice(-3)+"Z"},viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},getEventColor:function(e){return e.color},setToday:function(){this.focus=this.today},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},showEvent:function(e){var t=e.nativeEvent,n=e.event;this.$router.push("/events/".concat(n.id)),t.stopPropagation()},toggleOpen:function(e){this.selectedOpen=e},updateRange:function(e){var t=e.start,n=e.end;this.start=t,this.end=n},nth:function(e){return e>3&&e<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][e%10]}})},m=n(40),h=n(62),f=n.n(h),w=n(135),E=n(386),S=n(313),y=n(336),O=n(127),D=n(316),_=n(30),N=n(31),C=n(140),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",[n("v-sheet",{staticClass:"elevation-3",attrs:{height:"64"}},[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-btn",{staticClass:"mr-4",attrs:{outlined:""},on:{click:e.setToday}},[e._v("\n            Today\n          ")]),e._v(" "),n("v-btn",{attrs:{fab:"",text:"",medium:""},on:{click:e.prev}},[n("v-icon",{attrs:{large:""}},[e._v("\n              mdi-chevron-left\n            ")])],1),e._v(" "),n("v-btn",{attrs:{fab:"",text:"",medium:""},on:{click:e.next}},[n("v-icon",{attrs:{large:""}},[e._v("\n              mdi-chevron-right\n            ")])],1),e._v(" "),n("v-toolbar-title",[e._v(e._s(e.title))])],1)],1),e._v(" "),n("v-calendar",{ref:"calendar",attrs:{events:e.spaceEvents,"event-margin-bottom":3,now:e.today,color:"primary","event-color":"primary"},on:{"click:event":e.showEvent,change:e.updateRange},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}})],1)],1)],1)}),[],!1,null,null,null),j=component.exports;f()(component,{VBtn:w.a,VCalendar:E.a,VCol:S.a,VContainer:y.a,VIcon:O.a,VRow:D.a,VSheet:_.a,VToolbar:N.a,VToolbarTitle:C.a});var A=n(339);n(340);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var k={name:"NewEventDialog",components:{datetime:A.Datetime},data:function(){return{startDateTime:(new Date).toJSON(),endDateTime:(new Date).toJSON(),valid:!0,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=50||"Name must be less than 50 characters"}],startRules:[function(e){return!!e||"Start Date is required"}],descriptionRules:[function(e){return!!e||"Description is required"},function(e){return e&&e.length<=1e3||"Description must be less than 1000 characters"}],addressNameRules:[function(e){return!!e||"Address Name is required"},function(e){return e&&e.length<=1e3||"Address Name must be less than 1000 characters"}],fullAddressRules:[function(e){return!!e||"Full Address is required"},function(e){return e&&e.length<=1e3||"Full Address must be less than 1000 characters"}],imageSourceRules:[function(e){return!!e||"Image Source is required"},function(e){return e&&e.length<=1e3||"Image Source must be less than 1000 characters"}],menuOpen:!1}},computed:T({},Object(c.e)("spaceEvents",["newSpaceEventName","newSpaceEventDescription","newSpaceEventStart","newSpaceEventEnd","newSpaceEventAddressName","newSpaceEventFullAddress","newSpaceEventImageSource","spaceEvents"]),{},Object(c.c)(["isAuthenticated","loggedInUser"])),watch:{startDateTime:function(){console.log(this.startDateTime);var e=this.startDateTime.substr(0,19).replace("T"," ");console.log("Start value: ".concat(e)),this.setNewSpaceEventStart(e)},endDateTime:function(){console.log(this.endDateTime);var e=this.endDateTime.substr(0,19).replace("T"," ");console.log("End value: ".concat(e)),this.setNewSpaceEventEnd(e)}},methods:T({},Object(c.b)("spaceEvents",["createSpaceEvent"]),{},Object(c.d)("spaceEvents",["setNewSpaceEventName","setNewSpaceEventDescription","setNewSpaceEventStart","setNewSpaceEventEnd","setNewSpaceEventAddressName","setNewSpaceEventFullAddress","setNewSpaceEventImageSource"]),{createEvent:function(){this.createSpaceEvent(),this.resetCreateEventForm()},resetCreateEventForm:function(){this.$refs.form.reset(),this.menuOpen=!1}})},V=(n(361),n(388)),F=n(382),I=n(335),P=n(383),R=Object(m.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isAuthenticated?n("v-dialog",{staticClass:"pa-10",attrs:{activator:".add-new-event"},model:{value:e.menuOpen,callback:function(t){e.menuOpen=t},expression:"menuOpen"}},[n("v-sheet",{staticClass:"pa-10 d-flex flex-column"},[n("v-icon",{staticClass:"align-self-end",on:{click:function(t){e.menuOpen=!1}}},[e._v("mdi-close")]),e._v(" "),n("h3",[e._v("Add a new event")]),e._v(" "),n("v-form",{ref:"form",staticClass:"newEventForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{staticClass:"my-5",attrs:{value:e.newSpaceEventName,counter:50,rules:e.nameRules,label:"Name",required:""},on:{input:e.setNewSpaceEventName}}),e._v(" "),n("v-textarea",{attrs:{value:e.newSpaceEventDescription,rules:e.descriptionRules,counter:1e3,label:"Description",name:"Description","auto-grow":"",required:""},on:{input:e.setNewSpaceEventDescription}}),e._v(" "),n("datetime",{staticClass:"my-5",attrs:{"minute-step":15,type:"datetime","value-zone":"local",zone:"local","use12-hour":"",color:"teal",required:""},model:{value:e.startDateTime,callback:function(t){e.startDateTime=t},expression:"startDateTime"}}),e._v(" "),n("datetime",{staticClass:"my-5",attrs:{"minute-step":15,type:"datetime","value-zone":"local",zone:"local","use12-hour":"",color:"teal"},model:{value:e.endDateTime,callback:function(t){e.endDateTime=t},expression:"endDateTime"}}),e._v(" "),n("v-textarea",{attrs:{id:"start",value:e.newSpaceEventAddressName,rules:e.addressNameRules,counter:1e3,label:"Address Name",name:"AddressName","auto-grow":"",required:""},on:{input:e.setNewSpaceEventAddressName}}),e._v(" "),n("v-textarea",{attrs:{id:"end",value:e.newSpaceEventFullAddress,rules:e.fullAddressRules,counter:1e3,label:"Full Address",name:"FullAddress","auto-grow":"",required:""},on:{input:e.setNewSpaceEventFullAddress}}),e._v(" "),n("v-textarea",{attrs:{value:e.newSpaceEventImageSource,rules:e.imageSourceRules,counter:1e3,label:"Image Source",name:"ImageSource","auto-grow":"",required:""},on:{input:e.setNewSpaceEventImageSource}}),e._v(" "),n("v-sheet",{staticClass:"d-flex justify-space-evenly"},[n("v-btn",{staticClass:"my-5",attrs:{color:"info elevation-10"},on:{click:e.resetCreateEventForm}},[e._v("Reset")]),e._v(" "),n("v-btn",{staticClass:"my-5 elevation-10",attrs:{color:"primary"},on:{click:e.createEvent}},[e._v("Submit")])],1)],1)],1)],1):e._e()}),[],!1,null,null,null),$=R.exports;function U(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function M(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?U(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):U(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}f()(R,{VBtn:w.a,VDialog:V.a,VForm:F.a,VIcon:O.a,VSheet:_.a,VTextField:I.a,VTextarea:P.a});var J={components:{EventCalendar:j,NewEventDialog:$},data:function(){return{calendarIcon:o.e,end:null,focus:(new Date).toISOString().substr(0,10),hover:!1,today:(new Date).toISOString().substr(0,10),start:null}},computed:M({},Object(c.e)("spaceEvents",["spaceEvents","days","months"]),{eventsByDateNew:function(){return this.spaceEvents.slice().sort((function(a,b){return new Date(b.start)-new Date(a.start)}))},eventsByDateOld:function(){return this.spaceEvents.slice().sort((function(a,b){return new Date(a.start)-new Date(b.start)}))},monthFormatter:function(){return this.$refs.miniCal.getFormatter({timeZone:"UTC",month:"long"})},title:function(){var e=this.start,t=this.end;if(!e||!t)return"";var n=this.monthFormatter(e),r=e.year;return"".concat(n," ").concat(r)}}),mounted:function(){this.fetchSpaceEvents()},methods:M({},Object(c.b)("spaceEvents",["fetchSpaceEvents","fetchSpaceEventAttendees"]),{getDayName:function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]},getMonthName:function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]},listDate:function(e){return this.getDayName(new Date(e))+", "+this.getMonthName(new Date(e))+" "+new Date(e).getDate()},listTime:function(e){var t=new Date(e).getHours()%12||12,n=new Date(e).getMinutes(),r=new Date(e).getHours()>11?"PM":"AM";return 0===n?t+":"+n+"0 "+r:n<10?t+":0"+n+" "+r:t+":"+n+" "+r},next:function(){this.$refs.miniCal.next()},nth:function(e){return e>3&&e<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][e%10]},prev:function(){this.$refs.miniCal.prev()},setToday:function(){this.focus=this.today},updateRange:function(e){var t=e.start,n=e.end;this.start=t,this.end=n},getSpaceEventAttendeesByEvent:function(e){var t=this;this.spaceEvents.map((function(e){t.fetchSpaceEventAttendees(e)}))}}),watch:{spaceEvents:function(){this.getSpaceEventAttendeesByEvent(this.spaceEvents)}}},B=(n(367),n(323)),z=n(321),H=n(109),L=Object(m.a)(J,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"pa-0"},[n("v-sheet",{staticClass:"text-center text-shadow-light white--text",attrs:{color:"primary lighten-2"}},[n("h1",{class:{"display-2 font-weight-bold pt-6 pb-3":e.$breakpoint.mdAndUp,"display-1 font-weight-bold pt-6 pb-3":e.$breakpoint.smAndDown}},[e._v("Give your time")]),e._v(" "),n("p",{class:{"headline pt-3 pb-6":e.$breakpoint.mdAndUp,"title pt-3 pb-6":e.$breakpoint.smAndDown}},[e._v("Your time helps fight climate change")])]),e._v(" "),n("v-container",[n("v-row",[n("v-col",{staticClass:"text-center"},[n("h2",{class:{"headline font-weight-bold py-5":e.$breakpoint.mdAndUp,"title  font-weight-bold py-5":e.$breakpoint.smAndDown}},[e._v("Upcoming Events")]),e._v(" "),n("p",{class:{"title font-weight-regular":e.$breakpoint.mdAndUp,"subtitle-1 font-weight-regular":e.$breakpoint.smAndDown}},[e._v("Find volunteer events near you")])])],1),e._v(" "),n("v-row",[n("v-col",[n("v-container",[n("v-row",[n("v-col",{attrs:{sm:"7"}},[n("v-container",{staticClass:"py-0"},[n("v-row",[n("v-col",{staticClass:"py-0"},[n("ul",{staticClass:"pl-0"},e._l(e.eventsByDateOld,(function(t){return n("li",{key:t.id},[n("h3",{staticClass:"mb-3 pl-6"},[e._v(e._s(e.listDate(t.start)))]),e._v(" "),n("v-card",{staticClass:"d-flex flex-column flex-sm-row mb-6",attrs:{height:e.$breakpoint.mdAndUp?"12.5rem":"100%",hover:""}},[n("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[n("v-img",{attrs:{alt:"event image",src:"https://picsum.photos/300/300",height:e.$breakpoint.mdAndUp?"100%":"200px"}})],1),e._v(" "),n("v-container",[n("v-card-title",{staticClass:"py-0 mb-4"},[e._v(e._s(t.name))]),e._v(" "),n("v-card-subtitle",{staticClass:"subtitle-1 py-0"},[e._v(e._s(e.listTime(t.start)))]),e._v(" "),t.creator_name?n("v-card-text",{staticClass:"subtitle-1 py-0"},[e._v("Hosted by "+e._s(t.creator_name))]):e._e(),e._v(" "),t.attendees?n("v-card-text",{staticClass:"body-1"},[e._v(e._s(t.attendees.length)+" Volunteers Going")]):e._e(),e._v(" "),t.attendees?e._e():n("v-card-text",{staticClass:"body-1"},[e._v("No Volunteers")]),e._v(" "),n("v-btn",{staticClass:"ml-3 mb-3",attrs:{to:"/events/"+t.id,color:"primary",nuxt:""}},[e._v("More...")])],1)],1)],1)})),0)])],1)],1)],1),e._v(" "),n("v-col",{attrs:{sm:"5"}},[n("v-card",{staticClass:"add-new-event",attrs:{color:"transparent",flat:""}},[n("p",{staticClass:"d-flex align-center justify-center"},[n("v-icon",{staticClass:"mr-3",attrs:{size:"32",color:"primary"}},[e._v(e._s(e.calendarIcon))]),e._v(" "),n("span",{staticClass:"headline"},[e._v("Create New Event")])],1)]),e._v(" "),n("EventCalendar")],1)],1)],1)],1)],1)],1),e._v(" "),n("NewEventDialog")],1)],1)],1)}),[],!1,null,null,null);t.default=L.exports;f()(L,{VBtn:w.a,VCard:B.a,VCardSubtitle:z.b,VCardText:z.c,VCardTitle:z.d,VCol:S.a,VContainer:y.a,VIcon:O.a,VImg:H.a,VRow:D.a,VSheet:_.a})}}]);